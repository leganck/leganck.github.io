{"pages":[{"title":"","text":"干啥啥不行，吃饭第一名","link":"/about.html"}],"posts":[{"title":"WSL2配置","text":"WSL2 环境搭建安装windows功能中开启虚拟机平台和linux子系统 1wsl --set-default-version #设置默认版本为2 从windows store 安装ubuntu或者其他发行版本 配置Linux 镜像源更换以及docker安装 SuperManito/LinuxMirrors 由于wsl2使用微软闭源的Init无法使用Systemd，安装ubuntu-wsl2-systemd-script来解决 FiestaLake/ubuntu-wsl2-systemd-script 设置docker cgroup驱动和镜像地址 12345678// 文件路径 /etc/docker/daemon.json{ &quot;registry-mirrors&quot;: [&quot;https://registry.cn-hangzhou.aliyuncs.com&quot;], &quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;], &quot;log-driver&quot;: &quot;json-file&quot;, &quot;log-opts&quot;: {&quot;max-size&quot;: &quot;100m&quot;}, &quot;storage-driver&quot;: &quot;overlay2&quot;} 安装kind kubectl kind 123curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.10.0/kind-linux-amd64chmod +x ./kindmv ./kind /usr/local/bin/kind kubectl 1curl -LO &quot;https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl&quot; 设置常用环境变量 https://gist.github.com/leganck/3f15dbd5669f692d62bfb1d8084a445b 问题 获取到kind运行docker容器的命令，查看日志后发现是cgroup驱动问题 解决方法Github 12sudo mkdir /sys/fs/cgroup/systemdsudo mount -t cgroup -o none,name=systemd cgroup /sys/fs/cgroup/systemd 工具Lxrunoffline： 管理wsl的（rootfs/vhdx）文件位置 DDoSolitary/LxRunOffline wsl2hosts：自动添加相应域名到windows的hosts中 shayne/go-wsl2-host wsl2-auto-port-forward-python: 设置转发wsl2端口到Windows主机 itxq/wsl2-auto-port-forward-python","link":"/2021/05/19/wsl2%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"WSL2","slug":"WSL2","link":"/tags/WSL2/"},{"name":"Llinux&#39;","slug":"Llinux","link":"/tags/Llinux/"},{"name":"Kubernetes","slug":"Kubernetes","link":"/tags/Kubernetes/"}],"categories":[{"name":"windows","slug":"windows","link":"/categories/windows/"}]}